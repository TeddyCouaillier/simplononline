{# Message template #}
{% macro message(class, message) %}
<div class="message-{{ class }}">
    {{ message | raw }}
    <button type="button" class="close close-message">
        <span>&times;</span>
    </button>
</div>
{% endmacro %}

{# Error message for a form #}
{% macro checkMessage(form) %}
    {% if not form.vars.valid %}
    <div class="message-warning">
        Il y a un ou plusieurs erreurs de saisie.
        <button type="button" class="close close-message">
            <span>&times;</span>
        </button>
    </div>
    {% endif %}
{% endmacro %}

{# Link to the modal #}
{% macro linkModal(id, class, icon) %}
    <a data-modalid="{{ id }}" class="{{class}}">{{ icon | raw }}</a>
{% endmacro %}

{# Delete confirm modal #}
{% macro delete(id, route, text = "") %}
    <div id="myModal" class="modal" data-modalid="{{ id }}">
        <div class="modal-content">
            <div class="close-modal text-right">&times;</div>
            <div class="mb-4 w-75 mx-auto">
                <h2>Confirmation de suppression</h2>
                <hr>
                <div class="text-center mb-4">
                    <p>{{ text }}</p>
                    <b>Êtes-vous sur de vouloir supprimer cet élément ? </b><br>
                    <a href="{{ path(route,{'id': id}) }}">
                        <button type="submit" class="bg-red text-white button-circle mt-3">&#10004;</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{# Button confirm #}
{% macro confirm() %}
    <div class="text-center">
        <button type="submit" class="bg-red text-white button-circle mt-3 mb-1">&#10004;</button>
    </div>
{% endmacro %}

{# Skill modal #}
{% macro skillModal(skillUser) %}
    {% set skill = skillUser.skill %}
    <div id="myModal" class="modal" data-modalid="{{ skill.id }}">
        <div class="modal-content">
            <div class="close-modal text-right">&times;</div>
            <div class="mb-4 w-75 mx-auto">
                <h2>{{ skill.label }}</h2>
                <hr>
                <div class="text-justify mb-4">
                    {{ skill.description }}
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{# Skill level + modal on click popover #}
{% macro level(skillUser) %}
    {% import _self as template %}
    {% set skill = skillUser.skill %}
    {{ template.skillModal(skillUser) }}
    <div
    data-modalid="{{ skill.id }}" class="flex align-center skill-user" tabindex="0" data-toggle="popover" data-trigger="focus" data-html="true" data-container="body" data-placement="top"
    data-content="{{ skill.label }}<hr><div class='modal-button skill-info'>Détails</div>">
        <div class="skill-label">{{ skill.label }}</div>
        <div class="level level-{{ skillUser.level }} ml-auto">{{ skillUser.level }}</div>
    </div>
{% endmacro %}