{% import 'macro.html.twig' as template %}

<div class="project-content" id="task">

    <div class="flex align-center mb-3">
        <span class="text-medium bold">Taches</span>
        <div data-modalid="addTask" class="modal-button button-edit add-task ml-2">+</div>
    </div>

    <div class="container-grey mb-3 overflow-hidden">
        <span class="bold">Processing</span>
        {{ template.task(process, project) }}
    </div>

    <div class="container-grey mb-3 overflow-hidden">
        <span class="bold">To-do-list</span>
        {{ template.task(todolist, project) }}
    </div>

    <div class="container-grey mb-3">
        <span class="bold">Completed</span>
        {{ template.task(completed, project, false) }}
    </div>

</div>

<div id="myModal" class="modal" data-modalid="addTask">
    {{ form_start(form) }}
    <div class="modal-content">
        <div class="flex just-between">
            <h2>Ajouter une tache</h2>
            <div class="close-modal">&times;</div>
        </div>
        <div class="mb-2 w-100 mx-auto">
            <hr>
            <div class="flex"><div class="mx-1" style="width: 33%;">
                <div class="container-grey" >
                    <span class="bold">Info</span>
                    <div class="my-3">{{ form_widget(form.type) }}</div>
                    <div class="my-3">{{ form_widget(form.title) }}</div>
                    <div class="my-3">{{ form_widget(form.description, {'attr': {'rows': '8'}}) }}</div>
                    <div class="my-3">{{ form_widget(form.users, { 'attr' : {'multiple' : 'multiple','class':'multipleselect','placeholder':'Personne(s) concernée(s)'}}) }}</div>
                </div></div>
                <div class="mx-1 p-2" style="width: 66%; ">
                    <span class="bold">Liste des sous-tâches</span>
                    <div class="mt-3">{{ form_widget(form.subtasks) }}</div>
                </div>
            </div>
            <div class="my-3">{{ template.confirm() }}</div>
        </div>
    </div>
    {{ form_end(form) }}
