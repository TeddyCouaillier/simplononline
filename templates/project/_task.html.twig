{% import 'macro.html.twig' as template %}

<div class="project-content" id="task">

    <div class="flex align-center mb-3">
        <span class="text-medium bold">Taches</span>
        <div class="button-edit add-task ml-2" data-toggle="modal" data-target="#modal-add-task">+</div>
    </div>

    <div class="container-grey mb-3 overflow-hidden">
        <span class="bold">Processing</span>
        {{ template.task(process, project) }}
    </div>

    <div class="container-grey mb-3 overflow-hidden">
        <span class="bold">To-do-list</span>
        {{ template.task(todolist, project) }}
    </div>

    <div class="container-grey mb-3">
        <span class="bold">Completed</span>
        {{ template.task(completed, project, false) }}
    </div>

</div>

<div class="modal fade bd-example-modal-lg" id="modal-add-task" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    {{ form_start(form) }}
    <div class="modal-dialog modal-task" role="document">
        <div class="modal-content">
            <div class="modal-body px-4 pt-3 pb-0">
                <div class="flex just-between align-center">
                    <h2>Ajouter une tache</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <hr>
                <div class="flex"><div class="mx-1" style="width: 33%;">
                    <div class="container-grey" >
                        <span class="bold">Info</span>
                        <div class="my-3">{{ form_widget(form.type) }}</div>
                        <div class="my-3">{{ form_widget(form.title) }}</div>
                        <div class="my-3">{{ form_widget(form.description, {'attr': {'rows': '8'}}) }}</div>
                        <div class="my-3">{{ form_widget(form.users, { 'attr' : {'multiple' : 'multiple','class':'multipleselect','placeholder':'Personne(s) concernée(s)'}}) }}</div>
                    </div></div>
                    <div class="mx-1 p-2" style="width: 66%; ">
                        <span class="bold">Liste des sous-tâches</span>
                        <div class="mt-3">{{ form_widget(form.subtasks) }}</div>
                    </div>
                </div>
                <div class="my-3">{{ template.confirm() }}</div>
            </div>
        </div>
    </div>
    {{ form_end(form) }}
</div>


