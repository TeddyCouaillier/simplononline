{% extends 'base_admin.html.twig' %}

{% import 'macro.html.twig' as template %}

{% block title %}Modifier mon compte{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="/css/user.css">
<link rel="stylesheet" href="/css/skill.css">
{% endblock %}

{% form_theme form _self %}

{% block body %}
    <div class="container px-5 my-3">
    {{ template.checkMessage(form, "Les niveaux doivent être compris entre 0 et 3") }}
    <h1>Modifier les compétences de {{ user.firstname | capitalize }}</h1>
    <hr>
    {{ form_start(form) }}
    <div class="container-grey edit-skill-users">
        {% for form in form.userSkills %}
            <div class="flex wrap just-between align-center bg-white rounded mb-2 p-2">
                <div class="w-75 edit-skill-label">{{ user.userSkills[loop.index-1].skill.label }}</div>
                <div>{{ form_widget(form) }}</div>
            </div>
        {% endfor %}
        {{ template.confirm() }}
    </div>

    {{ form_end(form) }}
    </div>
{% endblock %}

{% block _edit_user_skills_userSkills_entry_widget %}
    <div class="flex just-around align-center">
        <div class="flex mr-3">
            <div class="circle-level level-0 mr-2" id="0"></div>
            <div class="circle-level level-1 mr-2" id="1"></div>
            <div class="circle-level level-2 mr-2" id="2"></div>
            <div class="circle-level level-3 mr-2" id="3"></div>
        </div>
        {{ form_widget(form.level, {'attr': {'class': 'level'}}) }}
    </div>
{% endblock %}

{% block javascripts %}
    <script src="/js/skills.js"></script>
{% endblock %}
